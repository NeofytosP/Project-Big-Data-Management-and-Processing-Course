### 2.1 Query Tracks

Read Tracks

Before query, here are the attributes in tracks table and how they are seen in SQL and MongoDB

```python
MyCursor.execute('DESCRIBE tracks')
for x in MyCursor:
    print(x)
```

    ('track_id', 'varchar(50)', 'NO', 'PRI', None, '')
    ('track_name', 'varchar(50)', 'NO', '', None, '')
    ('release_year', 'year', 'YES', '', None, '')
    ('genre', 'varchar(50)', 'YES', '', None, '')
    ('popularity', 'int', 'YES', '', None, '')
    ('duration_ms', 'int', 'YES', '', None, '')
    ('artist_id', 'varchar(50)', 'YES', 'MUL', None, '')
    


```python
MyCursor.execute('SELECT * FROM tracks LIMIT 3')
myresult = MyCursor.fetchall()
for x in myresult:
    pass
myresult
```




    [('0001piYJu94Ec4hJFytG5G',
      'Nothing but a Shade',
      2017,
      'goth',
      3,
      198587,
      '18001'),
     ('0005VnpISGYLSGrXg9TEJS',
      'Space Loneliness',
      2009,
      'heavy-metal',
      1,
      182117,
      '5952'),
     ('0006PpnEOPCCxToaXEEFnQ', 'Justine', 2008, 'rock-n-roll', 6, 60200, '8146')]




```python
MongoDB_songs = list(songs_collection.find({},{'_id': 1 ,'track_name' : 1 ,'release_year' : 1 ,'genre' : 1 ,'popularity' : 1 ,'duration_ms' : 1 }))
for x in MongoDB_songs:
    pass
```


```python
MongoDB_songs[:3]
```




    [{'_id': '53QF56cjZA9RTuuMZDrSA6',
      'track_name': "I Won't Give Up",
      'release_year': 2012,
      'genre': 'acoustic',
      'popularity': 68,
      'duration_ms': 240166},
     {'_id': '1s8tP3jP4GZcyHDsjvw218',
      'track_name': '93 Million Miles',
      'release_year': 2012,
      'genre': 'acoustic',
      'popularity': 50,
      'duration_ms': 216387},
     {'_id': '7BRCa8MPiyuvr2VU3O9W0F',
      'track_name': 'Do Not Let Me Go',
      'release_year': 2012,
      'genre': 'acoustic',
      'popularity': 57,
      'duration_ms': 158960}]




```python
# MySQL
total_time = 0
for i in range(20):
    start = time.perf_counter()

    MyCursor.execute('SELECT * FROM tracks')
    myresult = MyCursor.fetchall()
    for x in myresult:
        pass

    end = time.perf_counter()
    total_time += end - start

average_time = total_time / 20
print(f"Average response time {average_time:.3f} seconds")
MySQL_alltracks = average_time
```

    Average response time 1.388 seconds
    


```python
# MongoDB
total_time = 0
for i in range(20):
    start = time.perf_counter()

    MongoDB_songs = list(songs_collection.find({},{'_id': 1 ,'track_name' : 1 ,'release_year' : 1 ,'genre' : 1 ,'popularity' : 1 ,'duration_ms' : 1 }))
    for x in MongoDB_songs:
        pass

    end = time.perf_counter()
    total_time += end - start

average_time = total_time / 20
print(f"Average response time {average_time:.3f} seconds")
Local_MongoDB_allTracks = average_time
```

    Average response time 1.569 seconds
    


```python
# MongoDB Cloud
total_time = 0

start = time.perf_counter()

MongoDB_Songs_Cloud = list(cloud_songs_collection.find({},{'_id': 1 ,'track_name' : 1 ,'release_year' : 1 ,'genre' : 1 ,'popularity' : 1 ,'duration_ms' : 1 }))
for x in MongoDB_Songs_Cloud:
    pass

end = time.perf_counter()
print(f"Response time {end-start:.3f} seconds")
Cloud_MongoDB_allTracks = end - start
```

    Response time 11.394 seconds
    

Count Tracks

Here a response time is calculated about counting the data in this table

```python
# SQL
total_time = 0
for i in range(20):
    start = time.perf_counter()

    MyCursor.execute('SELECT COUNT(*) FROM tracks')
    result = MyCursor.fetchone()

    end = time.perf_counter()
    total_time += end - start

average_time = total_time / 20
print(f"Average response time {average_time:.3f} seconds")
print(result[0])
MySQL_Count = average_time
```

    Average response time 0.100 seconds
    1159764
    


```python
# MongoDB
total_time = 0
for i in range(20):
    start = time.perf_counter()

    Songs_count = songs_collection.count_documents({})

    end = time.perf_counter()
    total_time += end - start

average_time = total_time / 20
print(f"Average response time {average_time:.3f} seconds")
print(Songs_count)
LocalMongoDB_Count = average_time
```

    Average response time 0.156 seconds
    1159764
    


```python
# MongoDB Cloud
total_time = 0

start = time.perf_counter()

MongoDB_Songs_Cloud_cound = cloud_songs_collection.count_documents({})

end = time.perf_counter()
print(f"Response time {end-start:.3f} seconds")
print(MongoDB_Songs_Cloud_cound)
CloudMongoDB_Count = end-start
```

    Response time 0.386 seconds
    1000000
    

### 2.2 Query Track Features


```python
MyCursor.execute('DESCRIBE track_features')
for x in MyCursor:
    print(x)
```

    ('track_id', 'varchar(50)', 'NO', 'PRI', None, '')
    ('danceability', 'float', 'YES', '', None, '')
    ('energy', 'float', 'YES', '', None, '')
    ('key', 'int', 'YES', '', None, '')
    ('loudness', 'float', 'YES', '', None, '')
    ('mode', 'int', 'YES', '', None, '')
    ('speechiness', 'float', 'YES', '', None, '')
    ('acousticness', 'float', 'YES', '', None, '')
    ('instrumentalness', 'float', 'YES', '', None, '')
    ('liveness', 'float', 'YES', '', None, '')
    ('valence', 'float', 'YES', '', None, '')
    ('tempo', 'float', 'YES', '', None, '')
    ('time_signature', 'int', 'YES', '', None, '')
    


```python
# MySQL
total_time = 0
for i in range(20):
    start = time.perf_counter()

    MyCursor.execute('SELECT * FROM track_features')

    for x in MyCursor:
        pass

    end = time.perf_counter()
    total_time += end - start

average_time = total_time / 20
print(f"Average response time {average_time:.3f} seconds")
MySQL_track_features = average_time
```

    Average response time 2.755 seconds
    


```python
# MongoDB
total_time = 0
for i in range(20):
    start = time.perf_counter()

    MongoDB_songs = list(songs_collection.find({},{'_id': 1 ,'metrics.danceability' : 1 ,'metrics.energy' : 1 ,'metrics.key' : 1 ,'metrics.loudness' : 1 ,'metrics.mode' : 1 ,'metrics.speechiness' : 1 ,'metrics.acousticness' : 1 ,'metrics.instrumentalness' : 1, 'metrics.liveness' : 1 ,'metrics.valence' : 1 ,'metrics.tempo' : 1 ,'metrics.time_signature' : 1 }))
    for x in MongoDB_songs:
        pass

    end = time.perf_counter()
    total_time += end - start

average_time = total_time / 20
print(f"Average response time {average_time:.3f} seconds")
LocalMongoDB_track_features = average_time
```

    Average response time 2.967 seconds
    


```python
# MongoDB Cloud
total_time = 0

start = time.perf_counter()

MongoDB_Songs_Cloud = list(cloud_songs_collection.find({},{'_id': 1 ,'metrics.danceability' : 1 ,'metrics.energy' : 1 ,'metrics.key' : 1 ,'metrics.loudness' : 1 ,'metrics.mode' : 1 ,'metrics.speechiness' : 1 ,'metrics.acousticness' : 1 ,'metrics.instrumentalness' : 1, 'metrics.liveness' : 1 ,'metrics.valence' : 1 ,'metrics.tempo' : 1 ,'metrics.time_signature' : 1 }))
for x in MongoDB_Songs_Cloud:
    pass

end = time.perf_counter()
print(f"Response time {end-start:.3f} seconds")
CloudMongoDB_track_features = end-start
```

    Response time 16.400 seconds
